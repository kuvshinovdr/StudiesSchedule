# StudiesSchedule
Учебный проект. Составление расписаний занятий.

## Общая схема работы

1. Конфигурация (разбор параметров командной строки).
1. Чтение исходных данных.
1. Составление расписания.
1. Сохранение результатов работы.

Составление расписания может занять значительное время, поэтому следует выводить уведомления о прогрессе в процессе работы.
Кроме того, можно засечь время, понадобившееся для получения результата.

## Конфигурация

Параметры командной строки:

- Количество попыток составления расписания.
- Пути к входным файлам.
- Путь, куда сохранять выход.

## На входе

В формате CSV:

- Список аудиторий с указанием вместимости.
- Список групп с указанием количества студентов.
- Список преподавателей с указанием запрещённых временных слотов.
- Список временных слотов в порядке приоритетности назначения (столбцы: день недели, номер в течении дня).
- Список предметов с указанием групп и преподавателей.
- Списки запрещённых временных слотов для: аудиторий, групп и преподавателей.

В данный момент не учитывается возможность разной вместимости аудиторий и проведения предметов для потоков или, напротив, подгрупп.

## На выходе

В формате CSV:

- Недельное расписание каждой группы (строки — временные слоты, столбцы: аудитория, предмет, преподаватель).
- Недельное расписание каждого преподавателя (строки — временные слоты, столбцы: аудитория, предмет, группа).
- Недельное расписание каждой аудитории (строки — временные слоты, столбцы: предмет, группа, преподаватель).
- Полный список вычисленных назначений (может использоваться в отладочных целях).
- Список выпавших назначений (которые не удалось разместить в имеющиеся временные слоты).

## Модель данных

Объекты:

- Временной слот
- Аудитория
- Группа
- Преподаватель
- Предмет

Назначение: аудитория — временной слот — предмет — группа — преподаватель.

Ограничение(назначение1, назначение2):

назначение1.слот ≠ назначение2.слот ∨
(назначение1.преподаватель ≠ назначение2.преподаватель ∧ назначение1.аудитория ≠ назначение2.аудитория)

## Алгоритм

Можно представить задачу о вычислении набора назначений без конфликтов как задачу о правильной вершинной раскраске графа (желательно использующей минимальное доступное количество цветов).

Предполагается использовать полиномиальный алгоритм, дающий субоптимальное решение за приемлемое время.
Его можно запускать для какого-то начального (неверного) "решения", которое он будет пытаться исправить.
Это "решение" можно получить с помощью эвристики или назначить случайно.
Разные начальные "решения" в общем случае будут давать разные реальные решения в результате работы алгоритма, что позволяет сделать несколько попыток найти решение:

- минимизирующее число назначений, не уложившихся в заданные временные слоты (в принципе, мы хотим, чтобы таких вовсе не было);
- более равномерно или более компактно распределяющее нагрузку, например, минимизирующее число "окон";
- удовлетворяющее произвольным дополнительным ограничениям.

См. также [пример подобного алгоритма](https://evetro.wordpress.com/2017/12/03/an-algorithm-for-graph-proper-coloring-2/) для вычисления правильной вершинной раскраски графа.




